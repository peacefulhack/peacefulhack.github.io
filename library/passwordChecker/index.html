<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Password Checker</title>
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@mathiscode/password-leak@latest"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body class='bg-gray-800'>
  <div class='mx-72 mt-32'>
    <h1 class='text-5xl font-extrabold text-gray-300 text-center my-20'>Apa Password Saya Aman?</h1>

    <div class='bg-gray-700 rounded-full'>
      <div class="shadow flex">
          <input class="w-full rounded-full p-2 bg-gray-400 placeholder-gray-800" type="text" placeholder="Masukkan Password..." id='pwd'>
          <button class="bg-white w-auto flex justify-end items-center text-blue-500 p-2 hover:text-blue-400 rounded-full bg-gray-700" onclick="cari()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
      </div>
    </div>
    <p class='text-gray-400 pt-20 pb-10'>Kata sandi Anda <b>TIDAK PERNAH</b> ditransmisikan ke sistem lain. Sistem ini mengimplementasikan <a href='https://en.wikipedia.org/wiki/K-anonymity' class='text-blue-500'>Model k-Anonymity</a> sehingga kata sandi Anda dapat diperiksa tanpa harus memberikannya kepada pihak lain.</p>
  
    <p class='text-white text-xl hidden' id='hasil1'>HASIL: <b class='text-green-500' id='hasil2'>Password Aman</b></p>
  </div>
</body>
</html>

<script>
  function cari(){
    
    pwd = $('#pwd').val()
    isPasswordCompromised(pwd).then(isCompromised => {
      if(!isCompromised){
        document.getElementById('hasil2').innerHTML = 'Password Anda Aman';
        document.getElementById('hasil2').classList.remove('text-red-500');
        document.getElementById('hasil2').classList.add('text-green-500');

        if(document.getElementById('hasil1').classList.contains('hidden')){
          document.getElementById('hasil1').classList.remove('hidden');
          document.getElementById('hasil1').classList.add('block');
        }
      }
      else{
        document.getElementById('hasil2').innerHTML = 'Password Anda Telah bocor di beberapa Website Jual beli Akun pada darkWeeb';
        document.getElementById('hasil2').classList.remove('text-green-500');
        document.getElementById('hasil2').classList.add('text-red-500');

        if(document.getElementById('hasil1').classList.contains('hidden')){
          document.getElementById('hasil1').classList.remove('hidden');
          document.getElementById('hasil1').classList.add('block');
        }
      }
    })
  }
  
</script>